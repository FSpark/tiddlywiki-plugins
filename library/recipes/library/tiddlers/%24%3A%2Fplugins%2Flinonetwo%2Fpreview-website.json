{"title":"$:/plugins/linonetwo/preview-website","description":"Link previews everywhere.","author":"LinOnetwo","core-version":">=5.1.22","plugin-type":"plugin","version":"0.0.1","list":"readme","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/linonetwo/preview-website/load-preview-script.html\":{\"title\":\"$:/plugins/linonetwo/preview-website/load-preview-script.html\",\"text\":\"<script defer>\\n  import('https://previews.hyperfov.com/js/hyperfov-link-previews.min.js').then(() => {\\n    const addPreviewToLink = () => {\\n      // DEBUG: console\\n      console.log(`addPreviewToLink`);\\n      setPagePreviews({\\n        workerUrl: 'https://preview-worker.hyperfov.com',\\n        assignStyles: (aElt) => {\\n          return document.getElementById('itonnote-webpage-preview-popover').sheet;\\n        },\\n        assignPositions: (aElt) => {\\n          /* if (aElt.classList.contains('blocky')) return 'cursor';\\n          else  */ return 'below';\\n        },\\n        getLinks: () => {\\n          return document.querySelectorAll(`a:not([href*='localhost']):not([href^='#'])`);\\n        },\\n      });\\n    };\\n\\n    document.fonts.ready.then(() => {\\n      addPreviewToLink();\\n      $tw.hooks.addHook('th-navigating', (e) => {\\n        addPreviewToLink();\\n        return e;\\n      });\\n    });\\n  });\\n</script>\\n\",\"type\":\"text/html\",\"creator\":\"LinOnetwo\",\"tags\":\"$:/tags/RawMarkup\"},\"$:/plugins/linonetwo/preview-website/readme\":{\"title\":\"$:/plugins/linonetwo/preview-website/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Link Previews\\n\\nBased on [[cbroms/hyperfov-page-previews|https://github.com/cbroms/hyperfov-page-previews]].\\n\"},\"$:/plugins/linonetwo/preview-website/style\":{\"title\":\"$:/plugins/linonetwo/preview-website/style\",\"tags\":\"$:/tags/RawMarkup\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<style id=\\\"itonnote-webpage-preview-popover\\\">\\n  .hyperfov-preview-element-wrapper {\\n    box-shadow: 4px 4px 12px <<colour sidebar-foreground-shadow>>;\\n    border-radius: 4px;\\n    border: 1px solid <<colour tiddler-editor-border>>;\\n    background-color: <<colour tiddler-editor-background>>;\\n    color: white;\\n  }\\n  .hyperfov-link-content {\\n    background-color: <<colour tiddler-editor-background>>;\\n  }\\n\\n  .hyperfov-link-content::after {\\n    background-image: linear-gradient(#00000000, #000000);\\n  }\\n\\n  .hyperfov-loading {\\n    background-color: <<colour page-background>>;\\n  }\\n</style>\\n\"}}}"}